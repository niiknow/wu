!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("Wu",[],t):"object"==typeof exports?exports.Wu=t():e.Wu=t()}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){return void 0===e||null===e?t:e}function o(){var e=b,t=e.indexOf("MSIE "),n=e.indexOf("Trident/"),r=e.indexOf("rv:");return t>0?parseInt(e.substring(t+5,e.indexOf(".",t)),10):n>0&&parseInt(e.substring(r+3,e.indexOf(".",r)),10)}function u(e,t){function n(){void 0!==this.readyState&&"complete"!==this.readyState||"function"==typeof t&&t()}var r=void 0;e.indexOf("//")<0&&(e="http:"+e),"file"===(s.location||{}).protocol&&(e=e.replace("https://","http://")),r=this.doc.createElement("script"),r.type="text/javascript",r.src=e,t&&(r.onload=n,r.onreadystatechange=n),this.doc.body.appendChild(r)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s={navigator:{userAgent:""},location:{protocol:"file"}},l={},c=Array.prototype,f=Object.prototype,h=c.slice,d=f.hasOwnProperty,p=c.forEach,v=c.map,y=c.some,g=c.indexOf,m=Object.keys,b=s.navigator.userAgent;"undefined"!=typeof window&&(s=window);var w=function(){function e(){r(this,e),this._name="Wu",this.browser={isIE:o(),isMobile:/iP(hone|od|ad)|Android|BlackBerry|IEMobile|Kindle|NetFront|Silk-Accelerated|(hpw|web)OS|Fennec|Minimo|Opera M(obi|ini)|Blazer|Dolfin|Dolphin|Skyfire|Zune/gi.test(b),isAndroid:/(android)/gi.test(b),isIOS:/iP(hone|od|ad)/gi.test(b)},this.isNull=i,this.win=s,this.doc=document||{},this.forEach=this.each,this.collect=this.map,this.any=this.some}return a(e,[{key:"addEvent",value:function(e,t,n){return e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent?e.attachEvent(t,n):this.getAttribute("on"+t)?e["on"+t]=n:e[t]=n,this}},{key:"removeEvent",value:function(e,t,n){return e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent?e.detachEvent(t,n):this.getAttribute("on"+t)?e["on"+t]=null:e[t]=null,this}},{key:"getAjaxObject",value:function(){return"XMLHttpRequest"in window?new XMLHttpRequest:new window.ActiveXObject("Microsoft.XMLHTTP")}},{key:"getAttr",value:function(e,t){var n=e[0]||e;return n.getAttribute?n.getAttribute(t):n[t]}},{key:"getAttrs",value:function(e,t){var n=this,r={};return this.each(["","data-"],function(i,o){n.each(t||[],function(t,o){var u=n.getAttribute(e,i+o);u&&(r[o]=u)})}),r}},{key:"setAttr",value:function(e,t,n){var r=e[0]||e;return r.setAttribute?r.setAttribute(t,n):r[t]=n,r}},{key:"contains",value:function(e,t){return null!==this.isNull(e,null)&&(g&&e.indexOf===g?e.indexOf(t)!==-1:this.any(e,function(e){return e===t}))}},{key:"createiFrame",value:function(e,t){var n=this.doc.createElement("iframe");return e&&(n.id=e),t&&(n.className=t),n.frameBorder="0",n.marginWidth="0",n.marginHeight="0",n.setAttribute("border","0"),n.setAttribute("allowtransparency","true"),n.width="100%",n.height="100%",n}},{key:"del",value:function(e,t){e[t]=void 0;try{delete e[t]}catch(r){var n={};return this.each(e,function(e,r){r!==t&&(n[r]=e)}),n}return e}},{key:"each",value:function(e,t,n){if(null!==this.isNull(e,null))if(p&&e.forEach===p)e.forEach(t,n);else if(e.length===+e.length){for(var r=0,i=e.length;r<i;r++)if(t.call(n,e[r],r,e)===l)return}else for(var o=this.keys(e),u=0,a=o.length;u<a;u++)if(t.call(n,e[o[u]],o[u],e)===l)return}},{key:"extend",value:function(e){var t=this;return this.each(h.call(arguments,1),function(n){void 0!==n&&t.each(n,function(n,r){null!==t.isNull(n,null)&&(e[r]=n)})}),e}},{key:"groupBy",value:function(e,t,n){var r=this;if(null===this.isNull(e,null))return[];var i=[],o={};this.each(e,function(e){var n=e[t],i=o[n];null===r.isNull(i,null)&&(i={key:n,items:[]},o[n]=i),i.items.push(e)});var u=0;return this.each(o,function(e){e.$idx=u++,i.push(e),n&&n(e)}),this.sortOn(i,"key")}},{key:"has",value:function(e,t){return d.call(e,t)}},{key:"keys",value:function(e){if(m)return m(e);if(e!==Object(e))throw new TypeError("Invalid object");var t=[],n=void 0;for(n in e)this.has(e,n)&&t.push(n);return t}},{key:"loadScripts",value:function(e,t){function n(){if(r.length<=0)"function"==typeof t&&t();else{var e=r[0];r.splice(0,1),u(e,n)}}var r=void 0;this.isNull(e.length,0)<=0?"function"==typeof t&&t():("string"==typeof e&&(e=[e]),r=[].concat(e),n())}},{key:"loadIframe",value:function(e,t){var n=this.doc.createElement("iframe");if(e[0].appendChild(n),n.contentWindow)n.contentWindow.contents=t,n.src='javascript:window["contents"]';else{var r=n.contentDocument||n.document;r.open(),r.write(t),r.close()}return n}},{key:"map",value:function(e,t,n){var r=[];return null===this.isNull(e,null)?r:v&&e.map===v?e.map(t,n):(this.each(e,function(e,i,o){r.push(t.call(n,e,i,o))}),r)}},{key:"mapObject",value:function(e,t){var n={};return e&&(this.isNull(e.length,-1)<0?n[e[t]]=e:this.map(e,function(e,r){var i=e[t],o=n[i];o?("[object Array]"!==Object.prototype.toString.call(o)&&(o=[o]),o.push(e)):o=e,n[i]=o})),n}},{key:"parseQueryString",value:function(e){e=(e||"").replace("?","").replace("#","");for(var t=decodeURIComponent,n={},r=e.split("&"),i=0;i<r.length;i++){var o=r[i].split("=");n[t(o[0])]=t(o[1]||"")}return n}},{key:"request",value:function(e){var t=this;return e.headers=e.headers||{},["HEAD","GET","DELETE"].indexOf(e.method)>-1?e.data&&(e.url+=(e.url.indexOf("?")>0?"?":"&")+t.toQueryString(e.data),this.del(e,"data")):"string"!=typeof e.data&&((e.headers["Content-Type"]+"").indexOf("json")>0?e.data=JSON.stringify(e):e.data=t.toQueryString(e)),t.xhrp(e)}},{key:"slugify",value:function(e){return""===(e=e||"")?e:e=e.toLowerCase().replace(/[^0-9a-z\-\_]+/gi,"-").replace(/[\-]+/gi,"-")}},{key:"some",value:function(e,t,n){var r=!1;return t=t||function(e){return e},null===this.isNull(e,null)?r:y&&e.some===y?e.some(t,n):(this.each(e,function(e,i,o){return r||(r=t.call(n,e,i,o))?l:null}),!!r)}},{key:"sortOn",value:function(e,t){return null===this.isNull(e,null)?null:e.length<=0?[]:("string"==typeof e[0][t]?e.sort(function(e,n){return(e[t]&&e[t].toLowerCase())<(n[t]&&n[t].toLowerCase())?-1:(e[t]&&e[t].toLowerCase())>(n[t]&&n[t].toLowerCase())?1:0}):e.sort(function(e,n){return e[t]<n[t]?-1:e[t]>n[t]?1:0}),e)}},{key:"toQueryString",value:function(e){var t="";return this.each(e,function(e,n){t+="&"+n+"="+encodeURIComponent(e)}),t.replace("&","")}},{key:"xhrp",value:function(e){var t=this;return new Promise(function(n,r){return t.xhr(e,n,r)})}},{key:"xhr",value:function(e,t,n){var r=e;"string"==typeof r&&(e=e||{},e.url=r);var i=this.getAjaxObject();return e.withCredentials&&(i.withCredentials=!0,"undefined"!=typeof XDomainRequest&&(i=new XDomainRequest)),e&&0!==e.length||n({xhr:i,error:new Error("xhr expects an url or an options object, none given.")}),e.method=e.method||"GET",i.open(e.method,e.url,i.withCredentials),this.each(e.headers||{},function(e,t){i.setRequestHeader(t,e)}),this.addEvent(i,"readystatechange",function(){4===i.readyState&&i.status>=200&&i.status<400?t({xhr:i,text:i.responseText,url:i.responseURL}):4===i.readyState&&n({xhr:i})}),this.addEvent(i,"error",function(e){n({xhr:i,error:e})}),e.nosend||i.send(e.data||void 0),i}},{key:"name",get:function(){return this._name}}]),e}();t.default=w,e.exports=t.default}])});